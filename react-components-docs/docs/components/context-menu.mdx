---
sidebar_position: 9
---

import { 
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuSeparator,
  ContextMenuSub,
  ContextMenuSubTrigger,
  ContextMenuSubContent,
  ContextMenuCheckboxItem,
  ContextMenuRadioGroup,
  ContextMenuRadioItem,
  ContextMenuLabel
} from 'react-common-components-library';
import { useState } from 'react';

# ContextMenu

마우스 우클릭 또는 길게 누르기 동작에 반응하여 컨텍스트 메뉴를 표시하는 컴포넌트입니다.

## 기본 사용법

```jsx
import { 
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuSeparator,
  ContextMenuSub,
  ContextMenuSubTrigger,
  ContextMenuSubContent,
  ContextMenuCheckboxItem,
  ContextMenuRadioGroup,
  ContextMenuRadioItem,
  ContextMenuLabel
} from 'react-common-components-library';

function ContextMenuExample() {
  return (
    <ContextMenu>
      <ContextMenuTrigger className="flex h-40 w-96 items-center justify-center rounded-md border border-dashed">
        <span>우클릭하여 메뉴 열기</span>
      </ContextMenuTrigger>
      
      <ContextMenuContent className="w-64">
        <ContextMenuItem>
          새로 만들기
        </ContextMenuItem>
        <ContextMenuItem>
          새로고침
        </ContextMenuItem>
        <ContextMenuSeparator />
        <ContextMenuItem>
          복사
        </ContextMenuItem>
        <ContextMenuItem>
          붙여넣기
        </ContextMenuItem>
        <ContextMenuSeparator />
        <ContextMenuItem>
          속성
        </ContextMenuItem>
      </ContextMenuContent>
    </ContextMenu>
  );
}
```

<ContextMenu>
  <ContextMenuTrigger style={{ display: 'flex', height: '10rem', width: '24rem', alignItems: 'center', justifyContent: 'center', borderRadius: '0.375rem', border: '1px dashed #d1d5db' }}>
    <span>우클릭하여 메뉴 열기</span>
  </ContextMenuTrigger>
  
  <ContextMenuContent style={{ width: '16rem' }}>
    <ContextMenuItem>
      새로 만들기
    </ContextMenuItem>
    <ContextMenuItem>
      새로고침
    </ContextMenuItem>
    <ContextMenuSeparator />
    <ContextMenuItem>
      복사
    </ContextMenuItem>
    <ContextMenuItem>
      붙여넣기
    </ContextMenuItem>
    <ContextMenuSeparator />
    <ContextMenuItem>
      속성
    </ContextMenuItem>
  </ContextMenuContent>
</ContextMenu>

## 서브메뉴 사용

서브메뉴를 사용하여 계층적인 메뉴 구조를 만들 수 있습니다:

```jsx
import { 
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuSeparator,
  ContextMenuSub,
  ContextMenuSubTrigger,
  ContextMenuSubContent
} from 'react-common-components-library';

function ContextMenuWithSubmenuExample() {
  return (
    <ContextMenu>
      <ContextMenuTrigger className="flex h-40 w-96 items-center justify-center rounded-md border border-dashed">
        <span>우클릭하여 메뉴 열기</span>
      </ContextMenuTrigger>
      
      <ContextMenuContent className="w-64">
        <ContextMenuItem>
          새로 만들기
        </ContextMenuItem>
        
        <ContextMenuSub>
          <ContextMenuSubTrigger>
            정렬 기준
          </ContextMenuSubTrigger>
          <ContextMenuSubContent className="w-48">
            <ContextMenuItem>
              이름
            </ContextMenuItem>
            <ContextMenuItem>
              날짜
            </ContextMenuItem>
            <ContextMenuItem>
              크기
            </ContextMenuItem>
            <ContextMenuItem>
              유형
            </ContextMenuItem>
          </ContextMenuSubContent>
        </ContextMenuSub>
        
        <ContextMenuSeparator />
        
        <ContextMenuItem>
          속성
        </ContextMenuItem>
      </ContextMenuContent>
    </ContextMenu>
  );
}
```

<ContextMenu>
  <ContextMenuTrigger style={{ display: 'flex', height: '10rem', width: '24rem', alignItems: 'center', justifyContent: 'center', borderRadius: '0.375rem', border: '1px dashed #d1d5db' }}>
    <span>우클릭하여 메뉴 열기</span>
  </ContextMenuTrigger>
  
  <ContextMenuContent style={{ width: '16rem' }}>
    <ContextMenuItem>
      새로 만들기
    </ContextMenuItem>
    
    <ContextMenuSub>
      <ContextMenuSubTrigger>
        정렬 기준
      </ContextMenuSubTrigger>
      <ContextMenuSubContent style={{ width: '12rem' }}>
        <ContextMenuItem>
          이름
        </ContextMenuItem>
        <ContextMenuItem>
          날짜
        </ContextMenuItem>
        <ContextMenuItem>
          크기
        </ContextMenuItem>
        <ContextMenuItem>
          유형
        </ContextMenuItem>
      </ContextMenuSubContent>
    </ContextMenuSub>
    
    <ContextMenuSeparator />
    
    <ContextMenuItem>
      속성
    </ContextMenuItem>
  </ContextMenuContent>
</ContextMenu>

## 체크박스 및 라디오 항목

체크박스와 라디오 버튼 항목을 사용하여 선택 가능한 메뉴를 만들 수 있습니다:

```jsx
import { 
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuCheckboxItem,
  ContextMenuRadioGroup,
  ContextMenuRadioItem,
  ContextMenuLabel,
  ContextMenuSeparator
} from 'react-common-components-library';
import { useState } from 'react';

function ContextMenuWithSelectionExample() {
  const [showLineNumbers, setShowLineNumbers] = useState(true);
  const [showMinimap, setShowMinimap] = useState(false);
  const [theme, setTheme] = useState("light");
  
  return (
    <ContextMenu>
      <ContextMenuTrigger className="flex h-40 w-96 items-center justify-center rounded-md border border-dashed">
        <span>우클릭하여 메뉴 열기</span>
      </ContextMenuTrigger>
      
      <ContextMenuContent className="w-64">
        <ContextMenuLabel>보기 옵션</ContextMenuLabel>
        
        <ContextMenuCheckboxItem 
          checked={showLineNumbers}
          onCheckedChange={setShowLineNumbers}
        >
          줄 번호 표시
        </ContextMenuCheckboxItem>
        
        <ContextMenuCheckboxItem 
          checked={showMinimap}
          onCheckedChange={setShowMinimap}
        >
          미니맵 표시
        </ContextMenuCheckboxItem>
        
        <ContextMenuSeparator />
        
        <ContextMenuLabel>테마</ContextMenuLabel>
        <ContextMenuRadioGroup value={theme} onValueChange={setTheme}>
          <ContextMenuRadioItem value="light">
            라이트 모드
          </ContextMenuRadioItem>
          <ContextMenuRadioItem value="dark">
            다크 모드
          </ContextMenuRadioItem>
          <ContextMenuRadioItem value="system">
            시스템 설정 따르기
          </ContextMenuRadioItem>
        </ContextMenuRadioGroup>
      </ContextMenuContent>
    </ContextMenu>
  );
}
```

export const ContextMenuWithSelectionExample = () => {
  const [showLineNumbers, setShowLineNumbers] = useState(true);
  const [showMinimap, setShowMinimap] = useState(false);
  const [theme, setTheme] = useState("light");
  
  return (
    <ContextMenu>
      <ContextMenuTrigger style={{ display: 'flex', height: '10rem', width: '24rem', alignItems: 'center', justifyContent: 'center', borderRadius: '0.375rem', border: '1px dashed #d1d5db' }}>
        <span>우클릭하여 메뉴 열기</span>
      </ContextMenuTrigger>
      
      <ContextMenuContent style={{ width: '16rem' }}>
        <ContextMenuLabel>보기 옵션</ContextMenuLabel>
        
        <ContextMenuCheckboxItem 
          checked={showLineNumbers}
          onCheckedChange={setShowLineNumbers}
        >
          줄 번호 표시
        </ContextMenuCheckboxItem>
        
        <ContextMenuCheckboxItem 
          checked={showMinimap}
          onCheckedChange={setShowMinimap}
        >
          미니맵 표시
        </ContextMenuCheckboxItem>
        
        <ContextMenuSeparator />
        
        <ContextMenuLabel>테마</ContextMenuLabel>
        <ContextMenuRadioGroup value={theme} onValueChange={setTheme}>
          <ContextMenuRadioItem value="light">
            라이트 모드
          </ContextMenuRadioItem>
          <ContextMenuRadioItem value="dark">
            다크 모드
          </ContextMenuRadioItem>
          <ContextMenuRadioItem value="system">
            시스템 설정 따르기
          </ContextMenuRadioItem>
        </ContextMenuRadioGroup>
      </ContextMenuContent>
    </ContextMenu>
  );
};

<ContextMenuWithSelectionExample />

## 아이콘과 함께 사용

아이콘을 추가하여 메뉴 항목을 더 직관적으로 표시할 수 있습니다:

```jsx
import { 
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuSeparator
} from 'react-common-components-library';
import { 
  CopyIcon, 
  PasteIcon, 
  CutIcon, 
  TrashIcon 
} from 'react-common-components-library/icons';

function ContextMenuWithIconsExample() {
  return (
    <ContextMenu>
      <ContextMenuTrigger className="flex h-40 w-96 items-center justify-center rounded-md border border-dashed">
        <span>우클릭하여 메뉴 열기</span>
      </ContextMenuTrigger>
      
      <ContextMenuContent className="w-64">
        <ContextMenuItem>
          <CopyIcon className="mr-2 h-4 w-4" />
          <span>복사</span>
        </ContextMenuItem>
        
        <ContextMenuItem>
          <PasteIcon className="mr-2 h-4 w-4" />
          <span>붙여넣기</span>
        </ContextMenuItem>
        
        <ContextMenuItem>
          <CutIcon className="mr-2 h-4 w-4" />
          <span>잘라내기</span>
        </ContextMenuItem>
        
        <ContextMenuSeparator />
        
        <ContextMenuItem className="text-red-500">
          <TrashIcon className="mr-2 h-4 w-4" />
          <span>삭제</span>
        </ContextMenuItem>
      </ContextMenuContent>
    </ContextMenu>
  );
}
```

export const CopyIcon = () => (
  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
  </svg>
);

export const PasteIcon = () => (
  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
    <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
  </svg>
);

export const CutIcon = () => (
  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    <circle cx="6" cy="6" r="3"></circle>
    <circle cx="6" cy="18" r="3"></circle>
    <line x1="20" y1="4" x2="8.12" y2="15.88"></line>
    <line x1="14.47" y1="14.48" x2="20" y2="20"></line>
    <line x1="8.12" y1="8.12" x2="12" y2="12"></line>
  </svg>
);

export const TrashIcon = () => (
  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    <polyline points="3 6 5 6 21 6"></polyline>
    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
  </svg>
);

<ContextMenu>
  <ContextMenuTrigger style={{ display: 'flex', height: '10rem', width: '24rem', alignItems: 'center', justifyContent: 'center', borderRadius: '0.375rem', border: '1px dashed #d1d5db' }}>
    <span>우클릭하여 메뉴 열기</span>
  </ContextMenuTrigger>
  
  <ContextMenuContent style={{ width: '16rem' }}>
    <ContextMenuItem>
      <div style={{ marginRight: '0.5rem', display: 'inline-flex' }}><CopyIcon /></div>
      <span>복사</span>
    </ContextMenuItem>
    
    <ContextMenuItem>
      <div style={{ marginRight: '0.5rem', display: 'inline-flex' }}><PasteIcon /></div>
      <span>붙여넣기</span>
    </ContextMenuItem>
    
    <ContextMenuItem>
      <div style={{ marginRight: '0.5rem', display: 'inline-flex' }}><CutIcon /></div>
      <span>잘라내기</span>
    </ContextMenuItem>
    
    <ContextMenuSeparator />
    
    <ContextMenuItem style={{ color: '#ef4444' }}>
      <div style={{ marginRight: '0.5rem', display: 'inline-flex' }}><TrashIcon /></div>
      <span>삭제</span>
    </ContextMenuItem>
  </ContextMenuContent>
</ContextMenu>

## API 참조

### ContextMenu Props

| 속성 | 타입 | 기본값 | 설명 |
|------|------|--------|------|
| `children` | `ReactNode` | 필수 | ContextMenu 컴포넌트의 자식 요소 |
| `onOpenChange` | `(open: boolean) => void` | - | 메뉴 열림/닫힘 상태 변경 시 호출되는 함수 |
| `modal` | `boolean` | true | 모달 모드로 동작할지 여부 |
| `className` | `string` | '' | 컴포넌트에 적용할 추가 CSS 클래스 |
| `style` | `CSSProperties` | - | 컴포넌트에 적용할 인라인 스타일 |

### ContextMenuTrigger Props

| 속성 | 타입 | 기본값 | 설명 |
|------|------|--------|------|
| `children` | `ReactNode` | 필수 | 트리거 요소의 자식 요소 |
| `asChild` | `boolean` | false | 첫 번째 자식 요소로 렌더링할지 여부 |
| `disabled` | `boolean` | false | 트리거 비활성화 여부 |
| `className` | `string` | '' | 컴포넌트에 적용할 추가 CSS 클래스 |
| `style` | `CSSProperties` | - | 컴포넌트에 적용할 인라인 스타일 |

### ContextMenuContent Props

| 속성 | 타입 | 기본값 | 설명 |
|------|------|--------|------|
| `children` | `ReactNode` | 필수 | 메뉴 콘텐츠의 자식 요소 |
| `loop` | `boolean` | false | 메뉴 항목 탐색 시 처음/끝에서 순환할지 여부 |
| `onEscapeKeyDown` | `(event: KeyboardEvent) => void` | - | Esc 키 누를 때 호출되는 함수 |
| `onPointerDownOutside` | `(event: PointerEvent) => void` | - | 메뉴 외부 클릭 시 호출되는 함수 |
| `onInteractOutside` | `(event: React.FocusEvent \| MouseEvent \| TouchEvent) => void` | - | 메뉴 외부 상호작용 시 호출되는 함수 |
| `forceMount` | `boolean` | false | 닫혀 있을 때도 DOM에 마운트할지 여부 |
| `className` | `string` | '' | 컴포넌트에 적용할 추가 CSS 클래스 |
| `style` | `CSSProperties` | - | 컴포넌트에 적용할 인라인 스타일 |

### ContextMenuItem Props

| 속성 | 타입 | 기본값 | 설명 |
|------|------|--------|------|
| `children` | `ReactNode` | 필수 | 메뉴 항목의 자식 요소 |
| `disabled` | `boolean` | false | 항목 비활성화 여부 |
| `onSelect` | `(event: Event) => void` | - | 항목 선택 시 호출되는 함수 |
| `inset` | `boolean` | false | 체크박스/라디오 항목과 정렬을 맞추기 위한 여백 추가 여부 |
| `className` | `string` | '' | 컴포넌트에 적용할 추가 CSS 클래스 |
| `style` | `CSSProperties` | - | 컴포넌트에 적용할 인라인 스타일 |

### ContextMenuCheckboxItem Props

| 속성 | 타입 | 기본값 | 설명 |
|------|------|--------|------|
| `children` | `ReactNode` | 필수 | 체크박스 항목의 자식 요소 |
| `checked` | `boolean` | - | 체크 상태 (제어 컴포넌트) |
| `onCheckedChange` | `(checked: boolean) => void` | - | 체크 상태 변경 시 호출되는 함수 |
| `disabled` | `boolean` | false | 항목 비활성화 여부 |
| `className` | `string` | '' | 컴포넌트에 적용할 추가 CSS 클래스 |
| `style` | `CSSProperties` | - | 컴포넌트에 적용할 인라인 스타일 |

### ContextMenuRadioGroup Props

| 속성 | 타입 | 기본값 | 설명 |
|------|------|--------|------|
| `children` | `ReactNode` | 필수 | 라디오 그룹의 자식 요소 |
| `value` | `string` | - | 선택된 라디오 항목의 값 (제어 컴포넌트) |
| `onValueChange` | `(value: string) => void` | - | 선택된 값 변경 시 호출되는 함수 |
| `className` | `string` | '' | 컴포넌트에 적용할 추가 CSS 클래스 |
| `style` | `CSSProperties` | - | 컴포넌트에 적용할 인라인 스타일 |

### ContextMenuRadioItem Props

| 속성 | 타입 | 기본값 | 설명 |
|------|------|--------|------|
| `children` | `ReactNode` | 필수 | 라디오 항목의 자식 요소 |
| `value` | `string` | 필수 | 라디오 항목의 값 |
| `disabled` | `boolean` | false | 항목 비활성화 여부 |
| `className` | `string` | '' | 컴포넌트에 적용할 추가 CSS 클래스 |
| `style` | `CSSProperties` | - | 컴포넌트에 적용할 인라인 스타일 |

### ContextMenuLabel Props

| 속성 | 타입 | 기본값 | 설명 |
|------|------|--------|------|
| `children` | `ReactNode` | 필수 | 레이블의 자식 요소 |
| `inset` | `boolean` | false | 체크박스/라디오 항목과 정렬을 맞추기 위한 여백 추가 여부 |
| `className` | `string` | '' | 컴포넌트에 적용할 추가 CSS 클래스 |
| `style` | `CSSProperties` | - | 컴포넌트에 적용할 인라인 스타일 |

### ContextMenuSeparator Props

| 속성 | 타입 | 기본값 | 설명 |
|------|------|--------|------|
| `className` | `string` | '' | 컴포넌트에 적용할 추가 CSS 클래스 |
| `style` | `CSSProperties` | - | 컴포넌트에 적용할 인라인 스타일 |

## 접근성

ContextMenu 컴포넌트는 다음과 같은 접근성 기능을 제공합니다:

- WAI-ARIA 메뉴 디자인 패턴을 준수하여 스크린 리더 호환성을 보장합니다.
- 키보드 탐색을 완벽하게 지원합니다:
  - 위/아래 화살표 키로 메뉴 항목 간 이동
  - 오른쪽 화살표 키로 서브메뉴 열기
  - 왼쪽 화살표 키로 서브메뉴 닫기
  - Enter 또는 Space 키로 항목 선택
  - Esc 키로 메뉴 닫기
- 체크박스 항목은 `aria-checked` 속성을 사용하여 현재 상태를 스크린 리더에 알립니다.
- 라디오 항목은 `role="menuitemradio"`와 `aria-checked` 속성을 사용하여 현재 상태를 스크린 리더에 알립니다.
- 비활성화된 항목에는 `aria-disabled="true"`가 적용됩니다. 